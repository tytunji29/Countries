
<div class="animated fadeIn">
  <div class="breadcrumb">
    <h1>Countries</h1>
  </div>

  <div class="breadcrumb">

    <div class="col-md-4">
      <button type="button" class="btn btn-info mr-1" data-toggle="modal" (click)="addCountryRec(addCountry)">
        <i class="icon i-Add-Window"></i>Add Country
      </button>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped">
            <thead>
              <tr>
                <th>#</th>
                <th>CountryName</th>
                <th>Capital</th>
                <th>Region</th>
                <th>Currency</th>
                <th>More Details</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let t of countries">
                <td class="border-top border-dark">{{t.id}}</td>
                <td class="border-top border-dark">{{t.name}}</td>
                <td class="border-top border-dark">{{t.capital}}</td>
                <td class="border-top border-dark">{{t.region}}</td>
                <td class="border-top border-dark">{{t.currency}}</td>
                <td class="border-top border-dark">
                  <button class="btn btn-sm btn-outline-dark" (click)="viewAction(record, t.id)">
                    <i class="icon-cursor"></i></button>

                </td>
              </tr>
            </tbody>
            <!-- <tfoot>
                <tr>
                  <th>#</th>
                  <th>CountryName</th>
                  <th>Capital</th>
                  <th>Region</th>
                  <th>Currency</th>
                  <th>More Details</th>
                </tr>
            </tfoot> -->
          </table>
       
        </div>
      </div>
    </div>
    <!--/.col-->
  </div>
  <!--/.row-->

  <!--/.row-->
</div>
<ng-template #record let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">COUNTRY DETAILS</h4>
    <!-- <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button> -->
  </div>

  <div class="modal-body">
    <div class="row">
      <div class="col-md-6 form-group mb-3">
        <small>DIAL CODE</small>
        <input class="form-control " [value]="viewCoutry.dialCode" disabled>
      </div>
      <div class="col-md-6 form-group mb-3">
        <small>SUB-REGION</small>
        <input class="form-control " [value]="viewCoutry.subregion" disabled>

         <input type="text" class="form-control" [ngModel]="viewCoutry.complaintDate | date:'dd-MMM-yyyy'"
          (ngModelChange)="viewCoutry.complaintDate = $event" disabled /> -->
     </div>

    </div> 

    <div class="row">
      <div class="col-md-6 form-group mb-3">
        <small> DEMONYM</small>
        <input class="form-control " [value]="viewCoutry.demonym" disabled>
      </div>
      <div class="col-md-6 form-group mb-3">
        <small>TIMEZONE</small>
        <input class="form-control " [value]="viewCoutry.timezone" disabled>
      </div>

    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success" (click)="modal.dismiss('cancel click')">Ok</button>
  </div>
</ng-template>


<ng-template #addCountry let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Add Country</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <form [formGroup]="cotForm" (ngSubmit)="submit(cotForm.value)">
    <div class="modal-body">
      <div class="row">
        <div class="col-md-12 form-group mb-3">
          <label for="name">Name</label>
          <input type="text" class="form-control" formControlName="name" id="name" placeholder="Enter Country name"
            required>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12 form-group mb-3">
          <label for="Capital">Capital</label>
          <input type="text" class="form-control" formControlName="capital" id="capital"
            placeholder="Enter Type Capital" required>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button [disabled]="cotForm.invalid" class="btn btn-outline-dark btn-rounded">Save</button>
    </div>
  </form>
</ng-template>